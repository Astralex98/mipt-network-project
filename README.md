# mipt-network-project
Проект по курсу "Архитектура компьютерных сетей"

## Постановка задачи
Текущий проект - это демо-версия программы, осуществляющей автоматизированное и гарантированное обновление информационной справочной системы(ИСС). В демо-версии вынесена важная составляющая обновления ИСС - автоматизированное и гарантированное скачивание баз данных с ftp-сервера работодателя на компьютер пользователя. Скачивание происходит по sftp-протоколу. Сама же ИСС разбивается на следующие составляющие:

1. Скачивание баз данных
2. Проведение оперативных обновлений
3. Обновление регистрационных файлов

Для реализации приведенных составляющих необходимо было реализовать следующие возможности:

1. Очистка кеша ИСС
2. Запуск/остановка службы ИСС
3. Формирование файла-отчета и отправка его на ftp-сервер

Поскольку для тестирования программы (не демо-версии) нужно дополнительно устанавливать ИСС, то я решил сделать демо-версию. При этом для ясности выложил jupyter-notebook как для программы (DTE.ipynb), так и для ее демо-версии (DTE_Demo.ipynb).

## Краткое описание проекта

**Входные данные:**
1. Файл FlagBase.txt, сигнализирующий о необходимости начать скачивание баз данных с ftp-сервера
2. Файл BaseList.xml, который содержит список скачиваемых файлов с их характеристиками (название, объем и md5). В демонстрационных целях объем BaseList.xml был сильно сокращен (всего 4 файла), и файлы специально подобраны (суммарный объем чуть меньеш 1Гб). При нормальной скорости скачивания (50Мбит/секунду) базы данных должны скачаться за 3 минуты. 

**Выходные данные:**
Скачанные базы данных

Подробное описание проекта см. DTE_Demo.ipynb

## Установка

Для работы проекта требуется наличие python. Тестирование проводилось на версии 3.8.5.

Установка виртуального окружения. Файл requirements.txt приведен в репозитории.

### Windows
1. python -m venv C:\DTE_py - создаем виртуальное окружение в папке со скриптом C:\DTE_py
2. C:\DTE_py\Scripts\activate.bat - активируем созданное виртуальное окружение
3. pip install -r C:\DTE_py\requirements.txt - устаналвиваем в виртуальное окружение необходимые библиотеки для работы скрипта
4. C:\DTE_py\Scripts\deactivate.bat - деактивируем созданное виртуальное окружение

### Linux
1. python -m venv /home/user/script_folder - создаем виртуальное окружение в папке со скриптом /home/user/script
2. source /home/user/script_folder -       активируем созданное виртуальное окружение
3. pip install -r  /home/user/script/requirements.txt - устаналвиваем в виртуальное окружение необходимые библиотеки для работы скрипта
4. deactivate - деактивируем созданное виртуальное окружение

## Использование

Независимо от операционной системы нужно отредактировать конфигурационный файл Config.ini. В этом файле нужно указать следующие параметры:
1. path_to_download_files_from_server - путь к папке, куда будут скачиваться базы данных.
2. logs - путь к папке, где будут сохраняться логи

Далее нужно активировать виртуальное окружение и запустить файл DTE_Demo.py

### Windows
1. C:\DTE_py\Scripts\activate.bat
2. python C:\DTE_py\DTE.py
3. C:\DTE_py\Scripts\deactivate.bat

### Linux
1. source /home/user/script_folder
2. python /home/user/script_folder/script_file
3. deactivate
    





  



